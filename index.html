<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Faheem Woodworks — Live Edge Slabs & Projects</title>
  <meta name="description" content="Faheem Woodworks — completed projects and commission-ready live edge slabs." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
  <style>
    :root{--bg:#0b0f1a;--panel:#111827;--muted:#94a3b8;--text:#e5e7eb;--brand:#22c55e}
    *{box-sizing:border-box}
    html,body{margin:0}
    body{font-family:Inter,system-ui,Arial,sans-serif;background:var(--bg);color:var(--text)}
    a{color:var(--brand);text-decoration:none}
    .container{max-width:1100px;margin:0 auto;padding:1.25rem}

    /* ===== Branded sticky navbar ===== */
    .site-header{
      position:sticky; top:0; z-index:50;
      background:rgba(11,15,26,.9);
      backdrop-filter:saturate(160%) blur(8px);
      border-bottom:1px solid rgba(255,255,255,.06);
    }
    .navbar{display:flex;align-items:center;justify-content:space-between;gap:1rem;height:64px}
    .navbar-left{display:flex;align-items:center;gap:.75rem}
    .navbar-left img{height:40px;width:auto;border-radius:6px}
    .navbar-left span{font-weight:700;font-size:1.2rem;color:#fff}
    .navbar-right a{margin-left:1.5rem;color:#22c55e;text-decoration:none;font-weight:700}
    .navbar-right a:hover{text-decoration:underline}
    .navbar-right a[aria-current="page"]{text-decoration:underline}

    h2{font-size: 2rem; margin: 2rem 0 1rem; text-align: center;}

    /* ===== HERO CAROUSEL (numeric counter, no dots) ===== */
    .hero-wrap{max-width:1200px;margin:1rem auto 2rem;position:relative}
    .hero{position:relative;border-radius:18px;overflow:hidden;background:#0b1220;
          box-shadow:0 10px 35px rgba(0,0,0,.45);isolation:isolate}
    .hero-slide{position:relative;aspect-ratio:16/7;display:none}
    .hero-slide.active{display:block}
    .hero-slide img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;
                    filter:contrast(1.02) saturate(1.05)}
    .hero-overlay{position:absolute;inset:0;
      background:linear-gradient(180deg,rgba(0,0,0,.25),rgba(0,0,0,.35) 40%,rgba(0,0,0,.55)); z-index:1}
    .hero-content{position:absolute;inset:0;display:grid;place-items:center;text-align:center;z-index:2;padding:1rem}
    .hero-title{font-size:clamp(1.8rem,5vw,3rem);font-weight:800;letter-spacing:.06em;text-transform:uppercase}
    .hero-sub{margin-top:.35rem;color:#cbd5e1;opacity:.9}
    .hero-cta{margin-top:1rem;display:inline-block;padding:.8rem 1.1rem;border-radius:12px;font-weight:800;
              background:linear-gradient(90deg,#16a34a,#22c55e);color:#05230f;text-decoration:none}
    .hero-cta:hover{transform:translateY(-1px)}
    .hero-btn{position:absolute;top:50%;transform:translateY(-50%);z-index:3;width:44px;height:44px;border-radius:999px;
              display:grid;place-items:center;background:rgba(0,0,0,.45);color:#fff;border:1px solid rgba(255,255,255,.25);cursor:pointer}
    .hero-btn:hover{background:rgba(0,0,0,.6)}
    .hero-btn.left{left:.75rem}
    .hero-btn.right{right:.75rem}
    .hero-count{position:absolute;left:.75rem;top:.5rem;z-index:3;
      font-weight:700;background:rgba(0,0,0,.45);border:1px solid rgba(255,255,255,.12);
      padding:.25rem .5rem;border-radius:999px;color:#fff}
    .hero-dots{display:none}
    @media (max-width:800px){ .hero-slide{aspect-ratio:16/10} }

    /* ===== Slider gallery (numeric counter; dots hidden) ===== */
    .slider {position: relative; border-radius: 20px; overflow: hidden; background: #111827; max-width: 900px; margin: 2rem auto; box-shadow: 0 8px 30px rgba(0,0,0,.5);}
    .slider-viewport {aspect-ratio: 4/3; display: flex; justify-content: center; align-items: center; background: radial-gradient(circle at center, #1f2937, #0b0f1a);}
    .slider-viewport img {max-height: 100%; max-width: 100%; object-fit: contain; border-radius: 12px; transition: opacity .4s ease;}
    .slider-btn {position: absolute; top: 50%; transform: translateY(-50%); display: grid; place-items: center; width: 46px; height: 46px; border-radius: 50%; border: none; background: rgba(0,0,0,.5); cursor: pointer; color: #fff; font-size: 22px; backdrop-filter: blur(6px); transition: background .3s ease, transform .2s ease;}
    .slider-btn:hover {background: rgba(0,0,0,.75); transform: scale(1.05);}
    .slider-btn.left {left: 12px;}
    .slider-btn.right {right: 12px;}
    .slider-dots{display:none} /* hide dots */
    .slider-count{
      position:absolute; left:.6rem; top:.5rem; z-index:3;
      font-weight:700; color:#fff;
      background:rgba(0,0,0,.45);
      border:1px solid rgba(255,255,255,.12);
      padding:.2rem .5rem; border-radius:999px;
    }
    .caption {text-align: center; padding-top: .75rem; font-size: .95rem; color: #9ca3af;}
  </style>
</head>
<body>

  <!-- ===== Navbar ===== -->
  <header class="site-header">
    <div class="container navbar">
      <div class="navbar-left">
        <img src="images/faheemwoodworks.jpg" alt="Faheem Woodworks logo" />
        <span>Faheem Woodworks</span>
      </div>
      <nav class="navbar-right" aria-label="Primary">
        <a href="index.html" aria-current="page">Home</a>
        <a href="projects.html">Completed Projects</a>
        <a href="slabs.html">Commission Ready</a>
      </nav>
    </div>
  </header>

  <!-- ===== HERO ===== -->
  <div class="hero-wrap" id="hero">
    <div class="hero">
      <a class="hero-slide active" data-link="projects.html" aria-label="Go to Completed Projects for Sale">
        <img src="images/hero/hero_projects.webp" alt="Finished furniture piece" />
        <div class="hero-overlay"></div>
        <div class="hero-content">
          <div>
            <div class="hero-title">COMPLETED PROJECTS FOR SALE</div>
            <div class="hero-sub">One-of-a-kind builds ready to ship</div>
            <span class="hero-cta">Shop Completed Projects</span>
          </div>
        </div>
      </a>

      <a class="hero-slide" data-link="slabs.html" aria-label="Go to Commission Ready Slabs">
        <img src="images/hero/hero_slabs.webp" alt="Live edge slabs in stock" />
        <div class="hero-overlay"></div>
        <div class="hero-content">
          <div>
            <div class="hero-title">COMMISSION READY SLABS</div>
            <div class="hero-sub">Hand-selected slabs ready for your design</div>
            <span class="hero-cta">View Slabs</span>
          </div>
        </div>
      </a>

      <button class="hero-btn left" aria-label="Previous slide">❮</button>
      <button class="hero-btn right" aria-label="Next slide">❯</button>
      <div class="hero-count" aria-hidden="true">1 / 2</div>
    </div>
  </div>

  <!-- ===== For-sale sliders (examples; keep/add as needed) ===== -->

  <h2>Maple Slab Showcase</h2>
  <div class="slider" data-folder="images/maple_1/" data-title="Maple slab">
    <button class="slider-btn left" aria-label="Previous photo" data-dir="-1">&#10094;</button>
    <div class="slider-viewport"><img class="slide-img" alt="Loading…"/></div>
    <button class="slider-btn right" aria-label="Next photo" data-dir="1">&#10095;</button>
    <div class="slider-dots" aria-hidden="true"></div>
  </div><div class="caption"></div>

  <h2>Myrtlewood Slab Showcase 2</h2>
  <div class="slider" data-folder="images/myrtle_2/" data-title="Myrtlewood slab">
    <button class="slider-btn left" aria-label="Previous photo" data-dir="-1">&#10094;</button>
    <div class="slider-viewport"><img class="slide-img" alt="Loading…"/></div>
    <button class="slider-btn right" aria-label="Next photo" data-dir="1">&#10095;</button>
    <div class="slider-dots" aria-hidden="true"></div>
  </div><div class="caption"></div>

  <h2>Walnut Slab Showcase</h2>
  <div class="slider" data-folder="images/walnut_1/" data-title="Walnut slab">
    <button class="slider-btn left" aria-label="Previous photo" data-dir="-1">&#10094;</button>
    <div class="slider-viewport"><img class="slide-img" alt="Loading…"/></div>
    <button class="slider-btn right" aria-label="Next photo" data-dir="1">&#10095;</button>
    <div class="slider-dots" aria-hidden="true"></div>
  </div><div class="caption"></div>

  <script>
    /* ===== HERO JS ===== */
    (function(){
      const hero = document.getElementById('hero');
      const slides = [...hero.querySelectorAll('.hero-slide')];
      const prev = hero.querySelector('.hero-btn.left');
      const next = hero.querySelector('.hero-btn.right');
      const countEl = hero.querySelector('.hero-count');
      let i = 0;

      slides.forEach(s => s.addEventListener('click', e => {
        const href = s.dataset.link;
        if (e.target.closest('.hero-cta')) { window.location.href = href; }
        else { window.location.href = href; }
      }));

      function update(){
        slides.forEach((s,idx)=> s.classList.toggle('active', idx===i));
        countEl.textContent = `${i+1} / ${slides.length}`;
      }
      function step(d){ i = (i + d + slides.length) % slides.length; update(); }

      prev.addEventListener('click', ()=> step(-1));
      next.addEventListener('click', ()=> step(1));

      hero.tabIndex = 0;
      hero.addEventListener('keydown', e=>{ if(e.key==='ArrowLeft') step(-1); if(e.key==='ArrowRight') step(1); });
      let sx=null; hero.addEventListener('touchstart', e=>{ sx = e.touches[0].clientX; });
      hero.addEventListener('touchend', e=>{
        if(sx==null) return; const dx = e.changedTouches[0].clientX - sx;
        if(Math.abs(dx)>40) step(dx<0?1:-1); sx=null;
      });

      update();
    })();

    /* ===== Simple image existence probe ===== */
    function probe(url){
      return new Promise(resolve=>{
        const i=new Image(); i.onload=()=>resolve(true); i.onerror=()=>resolve(false); i.src=url;
      });
    }

    /* ===== Auto-discover files (prefix inferred from folder name) ===== */
    async function discoverFiles(folder){
      try{
        const res = await fetch(folder + 'manifest.txt', {cache:'no-store'});
        if(res.ok){
          const text = await res.text();
          const listed = text.split(/\r?\n/).map(s=>s.trim()).filter(Boolean);
          if(listed.length) return listed;
        }
      }catch(_){}

      const parts = folder.replace(/\/$/,'').split('/');
      const folderName = parts[parts.length-1];
      const basePrefix = folderName.split('_')[0];
      const prefixes = [folderName + '_', basePrefix + '_', 'img_', 'photo_', ''];
      const exts = ['webp','jpg','jpeg','png'];
      const found = [];

      for(let i=1;i<=120;i++){
        let hit=false;
        for(const p of prefixes){
          for(const ext of exts){
            const candidate = `${p}${i}.${ext}`;
            /* eslint-disable no-await-in-loop */
            const ok = await probe(folder + candidate);
            if(ok){ found.push(candidate); hit=true; break; }
          }
          if(hit) break;
        }
        if(!hit && found.length>0){ break; }
      }
      return found;
    }

    /* ===== Wire a slider (adds numeric counter) ===== */
    function wireSlider(sliderEl, files){
      const folder = sliderEl.dataset.folder;
      const title  = sliderEl.dataset.title || 'Gallery image';
      const imgEl  = sliderEl.querySelector('img.slide-img');
      const dotsEl = sliderEl.querySelector('.slider-dots');

      // numeric counter pill
      const countEl = sliderEl.querySelector('.slider-count') || (() => {
        const c = document.createElement('div');
        c.className = 'slider-count';
        sliderEl.appendChild(c);
        return c;
      })();

      let idx = 0;

      function renderDots(){
        if(!dotsEl) return;
        dotsEl.innerHTML='';
        files.forEach((_,i)=>{
          const b=document.createElement('button');
          b.type='button';
          if(i===idx) b.setAttribute('aria-current','true');
          b.addEventListener('click',()=>{idx=i;update(true)});
          dotsEl.appendChild(b);
        });
      }

      function update(animate){
        const src = folder + files[idx];
        if(animate){ imgEl.style.opacity=0; }
        setTimeout(()=>{ imgEl.src = src; imgEl.alt = `${title} photo ${idx+1}`; imgEl.style.opacity=1; }, animate?180:0);
        if(dotsEl){ [...dotsEl.children].forEach((d,i)=> d.toggleAttribute('aria-current', i===idx)); }
        countEl.textContent = `${idx+1} / ${files.length}`;
      }
      function next(delta){ idx = (idx + delta + files.length) % files.length; update(true); }

      sliderEl.querySelectorAll('.slider-btn').forEach(btn=>{
        btn.addEventListener('click',()=> next(parseInt(btn.dataset.dir,10)) );
      });
      sliderEl.tabIndex=0;
      sliderEl.addEventListener('keydown',e=>{ if(e.key==='ArrowRight') next(1); if(e.key==='ArrowLeft') next(-1); });
      let sx=null; sliderEl.addEventListener('touchstart',e=>{sx=e.touches[0].clientX;});
      sliderEl.addEventListener('touchend',e=>{ if(sx==null) return; const dx=e.changedTouches[0].clientX - sx; if(Math.abs(dx)>40){ next(dx<0?1:-1);} sx=null;});

      renderDots(); update(false);
    }

    (async function(){
      const sliders = document.querySelectorAll('.slider[data-folder]');
      for(const el of sliders){
        const folder = el.dataset.folder;
        const files = await discoverFiles(folder);
        if(files.length){ wireSlider(el, files); }
        else { el.querySelector('img').alt = 'No images found'; }
      }
    })();
  </script>
</body>
</html>
