<div class="slider" id="slider-myrtle-1" aria-label="Myrtle slab photo gallery"> <button class="slider-btn left" aria-label="Previous photo" data-dir="-1">&#10094;</button> <div class="slider-viewport"> <img id="slider-myrtle-1-img" src="images/myrtle_1/myrtle_1.webp" alt="Myrtlewood live-edge slab" /> </div> <button class="slider-btn right" aria-label="Next photo" data-dir="1">&#10095;</button> <div class="slider-dots" id="slider-myrtle-1-dots" aria-hidden="true"></div> </div> <script> (function(){ const folder = 'images/myrtle_1/'; const files = [ 'myrtle_1.webp', 'myrtle_2.webp', 'myrtle_3.webp', 'myrtle_4.webp', 'myrtle_5.webp' ]; const imgEl = document.getElementById('slider-myrtle-1-img'); const dotsEl = document.getElementById('slider-myrtle-1-dots'); const slider = document.getElementById('slider-myrtle-1'); let idx = 0; function renderDots(){ dotsEl.innerHTML=''; files.forEach((_,i)=>{ const b=document.createElement('button'); b.type='button'; b.setAttribute('aria-label','Go to photo ' + (i+1)); if(i===idx) b.setAttribute('aria-current','true'); b.addEventListener('click',()=>{idx=i;update();}); dotsEl.appendChild(b); }); } function update(){ imgEl.src = folder + files[idx]; imgEl.alt = 'Myrtlewood slab photo ' + (idx+1); [...dotsEl.children].forEach((d,i)=>{ if(i===idx) d.setAttribute('aria-current','true'); else d.removeAttribute('aria-current'); }); } function next(delta){ idx = (idx + delta + files.length) % files.length; update(); } renderDots(); update(); slider.querySelectorAll('.slider-btn').forEach(btn=>{ btn.addEventListener('click',()=> next(parseInt(btn.dataset.dir,10)) ); }); slider.addEventListener('keydown',(e)=>{ if(e.key==='ArrowRight') next(1); if(e.key==='ArrowLeft') next(-1); }); slider.tabIndex=0; let sx=null; slider.addEventListener('touchstart',e=>{sx=e.touches[0].clientX;}); slider.addEventListener('touchend',e=>{ if(sx==null) return; const dx=e.changedTouches[0].clientX - sx; if(Math.abs(dx)>40){ next(dx<0?1:-1);} sx=null;}); })(); </script>